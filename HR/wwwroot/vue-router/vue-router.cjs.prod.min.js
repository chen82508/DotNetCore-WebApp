"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var NavigationType,NavigationDirection,vue=require("vue");require("@vue/devtools-api");const hasSymbol="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,PolySymbol=e=>hasSymbol?Symbol(e):"_vr_"+e,matchedRouteKey=PolySymbol("rvlm"),viewDepthKey=PolySymbol("rvd"),routerKey=PolySymbol("r"),routeLocationKey=PolySymbol("rl"),routerViewLocationKey=PolySymbol("rvl"),isBrowser="undefined"!=typeof window;function isESModule(e){return e.__esModule||hasSymbol&&"Module"===e[Symbol.toStringTag]}const assign=Object.assign;function applyToParams(e,t){const r={};for(const o in t){const n=t[o];r[o]=Array.isArray(n)?n.map(e):e(n)}return r}const noop=()=>{},TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL(e,t,r="/"){let o,n={},a="",i="";var s=t.indexOf("?"),u=t.indexOf("#",-1<s?s:0);return-1<s&&(o=t.slice(0,s),a=t.slice(s+1,-1<u?u:t.length),n=e(a)),-1<u&&(o=o||t.slice(0,u),i=t.slice(u,t.length)),o=resolveRelativePath(null!=o?o:t,r),{fullPath:o+(a&&"?")+a+i,path:o,query:n,hash:i}}function stringifyURL(e,t){e=t.query?e(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function stripBase(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function isSameRouteLocation(e,t,r){var o=t.matched.length-1,n=r.matched.length-1;return-1<o&&o==n&&isSameRouteRecord(t.matched[o],r.matched[n])&&isSameRouteLocationParams(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function isSameRouteRecord(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function isSameRouteLocationParams(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!isSameRouteLocationParamsValue(e[r],t[r]))return!1;return!0}function isSameRouteLocationParamsValue(e,t){return Array.isArray(e)?isEquivalentArray(e,t):Array.isArray(t)?isEquivalentArray(t,e):e===t}function isEquivalentArray(e,r){return Array.isArray(r)?e.length===r.length&&e.every((e,t)=>e===r[t]):1===e.length&&e[0]===r}function resolveRelativePath(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),o=e.split("/");let n=r.length-1,a;var i;for(a=0;a<o.length;a++)if(i=o[a],1!==n&&"."!==i){if(".."!==i)break;n--}return r.slice(0,n).join("/")+"/"+o.slice(a-(a===o.length?1:0)).join("/")}!function(e){e.pop="pop",e.push="push"}(NavigationType=NavigationType||{}),function(e){e.back="back",e.forward="forward",e.unknown=""}(NavigationDirection=NavigationDirection||{});const START="";function normalizeBase(e){if(!e)if(isBrowser){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),removeTrailingSlash(e)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,t){return e.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(e,t){var r=document.documentElement.getBoundingClientRect(),e=e.getBoundingClientRect();return{behavior:t.behavior,left:e.left-r.left-(t.left||0),top:e.top-r.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(e){let t;if("el"in e){const o=e.el;var r="string"==typeof o&&o.startsWith("#"),r="string"==typeof o?r?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!r)return;t=getElementPosition(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function getScrollKey(e,t){return(history.state?history.state.position-t:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,t){scrollPositions.set(e,t)}function getSavedScrollPosition(e){var t=scrollPositions.get(e);return scrollPositions.delete(e),t}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(t,r){const{pathname:e,search:o,hash:n}=r;r=t.indexOf("#");if(-1<r){r=n.includes(t.slice(r))?t.slice(r).length:1;let e=n.slice(r);return"/"!==e[0]&&(e="/"+e),stripBase(e,"")}return stripBase(e,t)+o+n}function useHistoryListeners(a,i,s,u){let c=[],r=[],l=null;const t=({state:e})=>{var t=createCurrentLocation(a,location);const r=s.value;var o=i.value;let n=0;if(e){if(s.value=t,i.value=e,l&&l===r)return void(l=null);n=o?e.position-o.position:0}else u(t);c.forEach(e=>{e(s.value,r,{delta:n,type:NavigationType.pop,direction:n?0<n?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function o(){const e=window["history"];e.state&&e.replaceState(assign({},e.state,{scroll:computeScrollPosition()}),"")}return window.addEventListener("popstate",t),window.addEventListener("beforeunload",o),{pauseListeners:function(){l=s.value},listen:function(t){c.push(t);var e=()=>{var e=c.indexOf(t);-1<e&&c.splice(e,1)};return r.push(e),e},destroy:function(){for(const e of r)e();r=[],window.removeEventListener("popstate",t),window.removeEventListener("beforeunload",o)}}}function buildState(e,t,r,o=!1,n=!1){return{back:e,current:t,forward:r,replaced:o,position:window.history.length,scroll:n?computeScrollPosition():null}}function useHistoryStateNavigation(n){const{history:a,location:i}=window,o={value:createCurrentLocation(n,i)},s={value:a.state};function u(t,e,r){var o=n.indexOf("#"),t=-1<o?(i.host&&document.querySelector("base")?n:n.slice(o))+t:createBaseLocation()+n+t;try{a[r?"replaceState":"pushState"](e,"",t),s.value=e}catch(e){console.error(e),i[r?"replace":"assign"](t)}}return s.value||u(o.value,{back:null,current:o.value,forward:null,position:a.length-1,replaced:!0,scroll:null},!0),{location:o,state:s,push:function(e,t){var r=assign({},s.value,a.state,{forward:e,scroll:computeScrollPosition()});u(r.current,r,!0),u(e,assign({},buildState(o.value,e,null),{position:r.position+1},t),!1),o.value=e},replace:function(e,t){u(e,assign({},a.state,buildState(s.value.back,e,s.value.forward,!0),t,{position:s.value.position}),!0),o.value=e}}}function createWebHistory(e){const t=useHistoryStateNavigation(e=normalizeBase(e)),r=useHistoryListeners(e,t.state,t.location,t.replace);e=assign({location:"",base:e,go:function(e,t=!0){t||r.pauseListeners(),history.go(e)},createHref:createHref.bind(null,e)},t,r);return Object.defineProperty(e,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(e,"state",{enumerable:!0,get:()=>t.state.value}),e}function createMemoryHistory(e=""){let i=[],n=[START],a=0;function r(e){a++,a===n.length||n.splice(a),n.push(e)}e=normalizeBase(e);e={location:START,state:{},base:e,createHref:createHref.bind(null,e),replace(e){n.splice(a--,1),r(e)},push(e,t){r(e)},listen(t){return i.push(t),()=>{var e=i.indexOf(t);-1<e&&i.splice(e,1)}},destroy(){i=[],n=[START],a=0},go(e,t=!0){var r=this.location,o=e<0?NavigationDirection.back:NavigationDirection.forward;a=Math.max(0,Math.min(a+e,n.length-1)),t&&function(e,t,{direction:r,delta:o}){var n={direction:r,delta:o,type:NavigationType.pop};for(const a of i)a(e,t,n)}(this.location,r,{direction:o,delta:e})}};return Object.defineProperty(e,"location",{enumerable:!0,get:()=>n[a]}),e}function createWebHashHistory(e){return(e=location.host?e||location.pathname+location.search:"").includes("#")||(e+="#"),createWebHistory(e)}function isRouteLocation(e){return"string"==typeof e||e&&"object"==typeof e}function isRouteName(e){return"string"==typeof e||"symbol"==typeof e}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=PolySymbol("nf");exports.NavigationFailureType=void 0,function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(exports.NavigationFailureType||(exports.NavigationFailureType={}));const ErrorTypeMessages={[1]({location:e,currentLocation:t}){return`No match for\n ${JSON.stringify(e)}${t?"\nwhile being at\n"+JSON.stringify(t):""}`},2({from:e,to:t}){return`Redirected from "${e.fullPath}" to "${stringifyRoute(t)}" via a navigation guard.`},4({from:e,to:t}){return`Navigation aborted from "${e.fullPath}" to "${t.fullPath}" via a navigation guard.`},8({from:e,to:t}){return`Navigation cancelled from "${e.fullPath}" to "${t.fullPath}" with a new navigation.`},16({from:e}){return`Avoided redundant navigation to current location: "${e.fullPath}".`}};function createRouterError(e,t){return assign(new Error(ErrorTypeMessages[e](t)),{type:e,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(e,t){return e instanceof Error&&NavigationFailureSymbol in e&&(null==t||!!(e.type&t))}const propertiesToLog=["params","query","hash"];function stringifyRoute(e){if("string"==typeof e)return e;if("path"in e)return e.path;const t={};for(const r of propertiesToLog)r in e&&(t[r]=e[r]);return JSON.stringify(t,null,2)}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(c,e){var o=assign({},BASE_PATH_PARSER_OPTIONS,e);const t=[];let n=o.start?"^":"";const a=[];for(const p of c){const d=p.length?[]:[90];o.strict&&!p.length&&(n+="/");for(let r=0;r<p.length;r++){const h=p[r];let t=40+(o.sensitive?.25:0);if(0===h.type)r||(n+="/"),n+=h.value.replace(REGEX_CHARS_RE,"\\$&"),t+=40;else if(1===h.type){var{value:i,repeatable:s,optional:u,regexp:l}=h;a.push({name:i,repeatable:s,optional:u});const f=l||BASE_PARAM_PATTERN;if(f!==BASE_PARAM_PATTERN){t+=10;try{new RegExp(`(${f})`)}catch(e){throw new Error(`Invalid custom RegExp for param "${i}" (${f}): `+e.message)}}let e=s?`((?:${f})(?:/(?:${f}))*)`:`(${f})`;r||(e=u&&p.length<2?`(?:/${e})`:"/"+e),u&&(e+="?"),n+=e,t+=20,u&&(t+=-8),s&&(t+=-20),".*"===f&&(t+=-50)}d.push(t)}t.push(d)}o.strict&&o.end&&(e=t.length-1,t[e][t[e].length-1]+=.7000000000000001),o.strict||(n+="/?"),o.end?n+="$":o.strict&&(n+="(?:/|$)");const f=new RegExp(n,o.sensitive?"":"i");return{re:f,score:t,keys:a,parse:function(e){var t=e.match(f);const r={};if(!t)return null;for(let e=1;e<t.length;e++){const n=t[e]||"";var o=a[e-1];r[o.name]=n&&o.repeatable?n.split("/"):n}return r},stringify:function(e){let t="",r=!1;for(const i of c){r&&t.endsWith("/")||(t+="/"),r=!1;for(const s of i)if(0===s.type)t+=s.value;else if(1===s.type){var{value:o,repeatable:n,optional:a}=s;const u=o in e?e[o]:"";if(Array.isArray(u)&&!n)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);n=Array.isArray(u)?u.join("/"):u;if(!n){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(t.endsWith("/")?t=t.slice(0,-1):r=!0)}t+=n}}return t}}}function compareScoreArray(e,t){let r=0;for(;r<e.length&&r<t.length;){var o=t[r]-e[r];if(o)return o;r++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function comparePathParserScore(e,t){let r=0;for(var o=e.score,n=t.score;r<o.length&&r<n.length;){var a=compareScoreArray(o[r],n[r]);if(a)return a;r++}return n.length-o.length}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if("/"===e)return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${r})/"${c}": ${e}`)}let r=0,o=r;const n=[];let a;function i(){a&&n.push(a),a=[]}let s=0,u,c="",l="";function f(){c&&(0===r?a.push({type:0,value:c}):1===r||2===r||3===r?(1<a.length&&("*"===u||"+"===u)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:c,regexp:l,repeatable:"*"===u||"+"===u,optional:"*"===u||"?"===u})):t("Invalid state to consume buffer"),c="")}function p(){c+=u}for(;s<e.length;)if(u=e[s++],"\\"!==u||2===r)switch(r){case 0:"/"===u?(c&&f(),i()):":"===u?(f(),r=1):p();break;case 4:p(),r=o;break;case 1:"("===u?r=2:VALID_PARAM_RE.test(u)?p():(f(),r=0,"*"!==u&&"?"!==u&&"+"!==u&&s--);break;case 2:")"===u?"\\"==l[l.length-1]?l=l.slice(0,-1)+u:r=3:l+=u;break;case 3:f(),r=0,"*"!==u&&"?"!==u&&"+"!==u&&s--,l="";break;default:t("Unknown state")}else o=r,r=4;return 2===r&&t(`Unfinished custom RegExp for param "${c}"`),f(),i(),n}function createRouteRecordMatcher(e,t,r){r=tokensToParser(tokenizePath(e.path),r),e=assign(r,{record:e,parent:t,children:[],alias:[]});return t&&!e.record.aliasOf==!t.record.aliasOf&&t.children.push(e),e}function createRouterMatcher(e,h){const m=[],v=new Map;function g(e,t,r){var o=!r;const n=normalizeRouteRecord(e);n.aliasOf=r&&r.record;var a,i=mergeOptions(h,e);const s=[n];if("alias"in e)for(const p of"string"==typeof e.alias?[e.alias]:e.alias)s.push(assign({},n,{components:(r?r.record:n).components,path:p,aliasOf:r?r.record:n}));let u;for(const d of s){var c,l=d["path"];if(t&&"/"!==l[0]&&(c="/"===(c=t.record.path)[c.length-1]?"":"/",d.path=t.record.path+(l&&c+l)),a=createRouteRecordMatcher(d,t,i),r?r.alias.push(a):(u=u||a,u!==a&&u.alias.push(a),o&&e.name&&!isAliasRecord(a)&&y(e.name)),"children"in n){var f=n.children;for(let e=0;e<f.length;e++)g(f[e],a,r&&r.children[e])}r=r||a,function(e){let t=0;for(;t<m.length&&0<=comparePathParserScore(e,m[t])&&(e.record.path!==m[t].record.path||!isRecordChildOf(e,m[t]));)t++;m.splice(t,0,e),e.record.name&&!isAliasRecord(e)&&v.set(e.record.name,e)}(a)}return u?()=>{y(u)}:noop}function y(e){if(isRouteName(e)){const r=v.get(e);r&&(v.delete(e),m.splice(m.indexOf(r),1),r.children.forEach(y),r.alias.forEach(y))}else{var t=m.indexOf(e);-1<t&&(m.splice(t,1),e.record.name&&v.delete(e.record.name),e.children.forEach(y),e.alias.forEach(y))}}return h=mergeOptions({strict:!1,end:!0,sensitive:!1},h),e.forEach(e=>g(e)),{addRoute:g,resolve:function(e,t){let r,o={},n,a;if("name"in e&&e.name){if(r=v.get(e.name),!r)throw createRouterError(1,{location:e});a=r.record.name,o=assign(paramsFromLocation(t.params,r.keys.filter(e=>!e.optional).map(e=>e.name)),e.params),n=r.stringify(o)}else if("path"in e)n=e.path,r=m.find(e=>e.re.test(n)),r&&(o=r.parse(n),a=r.record.name);else{if(r=t.name?v.get(t.name):m.find(e=>e.re.test(t.path)),!r)throw createRouterError(1,{location:e,currentLocation:t});a=r.record.name,o=assign({},t.params,e.params),n=r.stringify(o)}const i=[];let s=r;for(;s;)i.unshift(s.record),s=s.parent;return{name:a,path:n,params:o,matched:i,meta:mergeMetaFields(i)}},removeRoute:y,getRoutes:function(){return m},getRecordMatcher:function(e){return v.get(e)}}}function paramsFromLocation(e,t){const r={};for(const o of t)o in e&&(r[o]=e[o]);return r}function normalizeRouteRecord(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function normalizeRecordProps(e){const t={};var r=e.props||!1;if("component"in e)t.default=r;else for(const o in e.components)t[o]="boolean"==typeof r?r:r[o];return t}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((e,t)=>assign(e,t.meta),{})}function mergeOptions(e,t){const r={};for(const o in e)r[o]=(o in t?t:e)[o];return r}function isRecordChildOf(t,e){return e.children.some(e=>e===t||isRecordChildOf(t,e))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return null==e?"":encodePath(e).replace(SLASH_RE,"%2F")}function decode(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}function parseQuery(e){const t={};if(""===e||"?"===e)return t;const r=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<r.length;++e){const a=r[e].replace(PLUS_RE," ");var o=a.indexOf("="),n=decode(o<0?a:a.slice(0,o)),o=o<0?null:decode(a.slice(o+1));if(n in t){let e=t[n];Array.isArray(e)||(e=t[n]=[e]),e.push(o)}else t[n]=o}return t}function stringifyQuery(e){let r="";for(let t in e){const o=e[t];if(t=encodeQueryKey(t),null!=o){const n=Array.isArray(o)?o.map(e=>e&&encodeQueryValue(e)):[o&&encodeQueryValue(o)];n.forEach(e=>{void 0!==e&&(r+=(r.length?"&":"")+t,null!=e&&(r+="="+e))})}else void 0!==o&&(r+=(r.length?"&":"")+t)}return r}function normalizeQuery(e){const t={};for(const r in e){const o=e[r];void 0!==o&&(t[r]=Array.isArray(o)?o.map(e=>null==e?null:""+e):null==o?o:""+o)}return t}function useCallbacks(){let r=[];return{add:function(t){return r.push(t),()=>{var e=r.indexOf(t);-1<e&&r.splice(e,1)}},list:()=>r,reset:function(){r=[]}}}function registerGuard(e,t,r){var o=()=>{e[t].delete(r)};vue.onUnmounted(o),vue.onDeactivated(o),vue.onActivated(()=>{e[t].add(r)}),e[t].add(r)}function onBeforeRouteLeave(e){var t=vue.inject(matchedRouteKey,{}).value;t&&registerGuard(t,"leaveGuards",e)}function onBeforeRouteUpdate(e){var t=vue.inject(matchedRouteKey,{}).value;t&&registerGuard(t,"updateGuards",e)}function guardToPromiseFn(a,i,s,u,c){const l=u&&(u.enterCallbacks[c]=u.enterCallbacks[c]||[]);return()=>new Promise((t,r)=>{var e=e=>{!1===e?r(createRouterError(4,{from:s,to:i})):e instanceof Error?r(e):isRouteLocation(e)?r(createRouterError(2,{from:i,to:e})):(l&&u.enterCallbacks[c]===l&&"function"==typeof e&&l.push(e),t())},o=a.call(u&&u.instances[c],i,s,e);let n=Promise.resolve(o);a.length<3&&(n=n.then(e)),n.catch(e=>r(e))})}function extractComponentsGuards(e,r,o,n){const a=[];for(const s of e)for(const u in s.components){let t=s.components[u];if("beforeRouteEnter"===r||s.instances[u])if(isRouteComponent(t)){var i=(t.__vccOpts||t)[r];i&&a.push(guardToPromiseFn(i,o,n,s,u))}else{let e=t();a.push(()=>e.then(e=>{if(!e)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${s.path}"`));e=isESModule(e)?e.default:e,e=((s.components[u]=e).__vccOpts||e)[r];return e&&guardToPromiseFn(e,o,n,s,u)()}))}}return a}function isRouteComponent(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function useLink(t){const r=vue.inject(routerKey),i=vue.inject(routeLocationKey),s=vue.computed(()=>r.resolve(vue.unref(t.to))),e=vue.computed(()=>{var e=s.value["matched"],t=e["length"],r=e[t-1];const o=i.matched;if(!r||!o.length)return-1;var n=o.findIndex(isSameRouteRecord.bind(null,r));if(-1<n)return n;var a=getOriginalPath(e[t-2]);return 1<t&&getOriginalPath(r)===a&&o[o.length-1].path!==a?o.findIndex(isSameRouteRecord.bind(null,e[t-2])):n});var o=vue.computed(()=>-1<e.value&&includesParams(i.params,s.value.params)),n=vue.computed(()=>-1<e.value&&e.value===i.matched.length-1&&isSameRouteLocationParams(i.params,s.value.params));return{route:s,href:vue.computed(()=>s.value.href),isActive:o,isExactActive:n,navigate:function(e={}){return guardEvent(e)?r[vue.unref(t.replace)?"replace":"push"](vue.unref(t.to)).catch(noop):Promise.resolve()}}}const RouterLinkImpl=vue.defineComponent({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:useLink,setup(t,{slots:r}){const o=vue.reactive(useLink(t)),e=vue.inject(routerKey)["options"],n=vue.computed(()=>({[getLinkClass(t.activeClass,e.linkActiveClass,"router-link-active")]:o.isActive,[getLinkClass(t.exactActiveClass,e.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{var e=r.default&&r.default(o);return t.custom?e:vue.h("a",{"aria-current":o.isExactActive?t.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:n.value},e)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,t){for(const r in t){const o=t[r],n=e[r];if("string"==typeof o){if(o!==n)return!1}else if(!Array.isArray(n)||n.length!==o.length||o.some((e,t)=>e!==n[t]))return!1}return!0}function getOriginalPath(e){return e?(e.aliasOf||e).path:""}const getLinkClass=(e,t,r)=>null!=e?e:null!=t?t:r,RouterViewImpl=vue.defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(i,{attrs:s,slots:u}){const e=vue.inject(routerViewLocationKey),c=vue.computed(()=>i.route||e.value),t=vue.inject(viewDepthKey,0),l=vue.computed(()=>c.value.matched[t]);vue.provide(viewDepthKey,t+1),vue.provide(matchedRouteKey,l),vue.provide(routerViewLocationKey,c);const f=vue.ref();return vue.watch(()=>[f.value,l.value,i.name],([t,e,r],[o,n])=>{e&&(e.instances[r]=t,n&&n!==e&&t&&t===o&&(e.leaveGuards.size||(e.leaveGuards=n.leaveGuards),e.updateGuards.size||(e.updateGuards=n.updateGuards))),!t||!e||n&&isSameRouteRecord(e,n)&&o||(e.enterCallbacks[r]||[]).forEach(e=>e(t))},{flush:"post"}),()=>{var e=c.value;const t=l.value;var r=t&&t.components[i.name];const o=i.name;if(!r)return normalizeSlot(u.default,{Component:r,route:e});const n=t.props[i.name];var a=n?!0===n?e.params:"function"==typeof n?n(e):n:null,a=vue.h(r,assign({},a,s,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(t.instances[o]=null)},ref:f}));return normalizeSlot(u.default,{Component:a,route:e})||a}}});function normalizeSlot(e,t){if(!e)return null;t=e(t);return 1===t.length?t[0]:t}const RouterView=RouterViewImpl;function createRouter(i){const u=createRouterMatcher(i.routes,i),c=i.parseQuery||parseQuery,l=i.stringifyQuery||stringifyQuery,f=i.history,p=useCallbacks(),d=useCallbacks(),n=useCallbacks(),h=vue.shallowRef(START_LOCATION_NORMALIZED);let m=START_LOCATION_NORMALIZED;isBrowser&&i.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=applyToParams.bind(null,e=>""+e),g=applyToParams.bind(null,encodeParam),y=applyToParams.bind(null,decode);function R(e,t){if(t=assign({},t||h.value),"string"==typeof e){var r=parseURL(c,e,t.path);const n=u.resolve({path:r.path},t),a=f.createHref(r.fullPath);return assign(r,n,{params:y(n.params),hash:decode(r.hash),redirectedFrom:void 0,href:a})}let o;if("path"in e)o=assign({},e,{path:parseURL(c,e.path,t.path).path});else{const i=assign({},e.params);for(const s in i)null==i[s]&&delete i[s];o=assign({},e,{params:g(e.params)}),t.params=g(t.params)}const n=u.resolve(o,t);r=e.hash||"";n.params=v(y(n.params));t=stringifyURL(l,assign({},e,{hash:encodeHash(r),path:n.path}));const a=f.createHref(t);return assign({fullPath:t,hash:r,query:l===stringifyQuery?normalizeQuery(e.query):e.query||{}},n,{redirectedFrom:void 0,href:a})}function E(e){return"string"==typeof e?parseURL(c,e,h.value.path):assign({},e)}function A(e,t){if(m!==e)return createRouterError(8,{from:t,to:e})}function a(e){return P(e)}function S(t){var r=t.matched[t.matched.length-1];if(r&&r.redirect){const o=r["redirect"];let e="function"==typeof o?o(t):o;return"string"==typeof e&&(e=e.includes("?")||e.includes("#")?e=E(e):{path:e},e.params={}),assign({query:t.query,hash:t.hash,params:t.params},e)}}function P(e,t){var r=m=R(e);const o=h.value,n=e.state,a=e.force,i=!0===e.replace;e=S(r);if(e)return P(assign(E(e),{state:n,force:a,replace:i}),t||r);const s=r;s.redirectedFrom=t;let u;return!a&&isSameRouteLocation(l,o,r)&&(u=createRouterError(16,{to:s,from:o}),w(o,o,!0,!1)),(u?Promise.resolve(u):_(s,o)).catch(e=>isNavigationFailure(e)?isNavigationFailure(e,2)?e:N(e):O(e,s,o)).then(e=>{if(e){if(isNavigationFailure(e,2))return P(assign(E(e.to),{state:n,force:a,replace:i}),t||s)}else e=L(s,o,!0,i,n);return b(s,o,e),e})}function _(r,o){let n;const[e,t,a]=extractChangingRecords(r,o);n=extractComponentsGuards(e.reverse(),"beforeRouteLeave",r,o);for(const s of e)s.leaveGuards.forEach(e=>{n.push(guardToPromiseFn(e,r,o))});const i=function(e,t){return(t=A(e,t))?Promise.reject(t):Promise.resolve()}.bind(null,r,o);return n.push(i),runGuardQueue(n).then(()=>{n=[];for(const e of p.list())n.push(guardToPromiseFn(e,r,o));return n.push(i),runGuardQueue(n)}).then(()=>{n=extractComponentsGuards(t,"beforeRouteUpdate",r,o);for(const e of t)e.updateGuards.forEach(e=>{n.push(guardToPromiseFn(e,r,o))});return n.push(i),runGuardQueue(n)}).then(()=>{n=[];for(const e of r.matched)if(e.beforeEnter&&!o.matched.includes(e))if(Array.isArray(e.beforeEnter))for(const t of e.beforeEnter)n.push(guardToPromiseFn(t,r,o));else n.push(guardToPromiseFn(e.beforeEnter,r,o));return n.push(i),runGuardQueue(n)}).then(()=>(r.matched.forEach(e=>e.enterCallbacks={}),n=extractComponentsGuards(a,"beforeRouteEnter",r,o),n.push(i),runGuardQueue(n))).then(()=>{n=[];for(const e of d.list())n.push(guardToPromiseFn(e,r,o));return n.push(i),runGuardQueue(n)}).catch(e=>isNavigationFailure(e,8)?e:Promise.reject(e))}function b(e,t,r){for(const o of n.list())o(e,t,r)}function L(e,t,r,o,n){var a=A(e,t);if(a)return a;var i=t===START_LOCATION_NORMALIZED,a=isBrowser?history.state:{};r&&(o||i?f.replace(e.fullPath,assign({scroll:i&&a&&a.scroll},n)):f.push(e.fullPath,n)),w(h.value=e,t,r,i),N()}let s;let o=useCallbacks(),T=useCallbacks(),C;function O(t,r,o){N(t);const e=T.list();return e.length?e.forEach(e=>e(t,r,o)):console.error(t),Promise.reject(t)}function N(r){return C||(C=!r,s=f.listen((e,t,r)=>{const o=R(e);e=S(o);if(e)P(assign(e,{replace:!0}),o).catch(noop);else{m=o;const n=h.value;isBrowser&&saveScrollPosition(getScrollKey(n.fullPath,r.delta),computeScrollPosition()),_(o,n).catch(e=>isNavigationFailure(e,12)?e:isNavigationFailure(e,2)?(P(e.to,o).then(e=>{isNavigationFailure(e,20)&&!r.delta&&r.type===NavigationType.pop&&f.go(-1,!1)}).catch(noop),Promise.reject()):(r.delta&&f.go(-r.delta,!1),O(e,o,n))).then(e=>{(e=e||L(o,n,!1))&&(r.delta?f.go(-r.delta,!1):r.type===NavigationType.pop&&isNavigationFailure(e,20)&&f.go(-1,!1)),b(o,n,e)}).catch(noop)}}),o.list().forEach(([e,t])=>r?t(r):e()),o.reset()),r}function w(t,r,e,o){const n=i["scrollBehavior"];if(!isBrowser||!n)return Promise.resolve();const a=!e&&getSavedScrollPosition(getScrollKey(t.fullPath,0))||(o||!e)&&history.state&&history.state.scroll||null;return vue.nextTick().then(()=>n(t,r,a)).then(e=>e&&scrollToPosition(e)).catch(e=>O(e,t,r))}const e=e=>f.go(e);let k;const x=new Set;return{currentRoute:h,addRoute:function(e,t){let r,o;return o=isRouteName(e)?(r=u.getRecordMatcher(e),t):e,u.addRoute(o,r)},removeRoute:function(e){(e=u.getRecordMatcher(e))&&u.removeRoute(e)},hasRoute:function(e){return!!u.getRecordMatcher(e)},getRoutes:function(){return u.getRoutes().map(e=>e.record)},resolve:R,options:i,push:a,replace:function(e){return a(assign(E(e),{replace:!0}))},go:e,back:()=>e(-1),forward:()=>e(1),beforeEach:p.add,beforeResolve:d.add,afterEach:n.add,onError:T.add,isReady:function(){return C&&h.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((e,t)=>{o.add([e,t])})},install(e){e.component("RouterLink",RouterLink),e.component("RouterView",RouterView),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>vue.unref(h)}),isBrowser&&!k&&h.value===START_LOCATION_NORMALIZED&&(k=!0,a(f.location).catch(e=>{}));const t={};for(const o in START_LOCATION_NORMALIZED)t[o]=vue.computed(()=>h.value[o]);e.provide(routerKey,this),e.provide(routeLocationKey,vue.reactive(t)),e.provide(routerViewLocationKey,h);const r=e.unmount;x.add(e),e.unmount=function(){x.delete(e),x.size<1&&(m=START_LOCATION_NORMALIZED,s&&s(),h.value=START_LOCATION_NORMALIZED,k=!1,C=!1),r()}}}}function runGuardQueue(e){return e.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function extractChangingRecords(t,r){const o=[],n=[],a=[];var i=Math.max(r.matched.length,t.matched.length);for(let e=0;e<i;e++){const s=r.matched[e];s&&(t.matched.find(e=>isSameRouteRecord(e,s))?n:o).push(s);const u=t.matched[e];u&&(r.matched.find(e=>isSameRouteRecord(e,u))||a.push(u))}return[o,n,a]}function useRouter(){return vue.inject(routerKey)}function useRoute(){return vue.inject(routeLocationKey)}exports.RouterLink=RouterLink,exports.RouterView=RouterView,exports.START_LOCATION=START_LOCATION_NORMALIZED,exports.createMemoryHistory=createMemoryHistory,exports.createRouter=createRouter,exports.createRouterMatcher=createRouterMatcher,exports.createWebHashHistory=createWebHashHistory,exports.createWebHistory=createWebHistory,exports.isNavigationFailure=isNavigationFailure,exports.matchedRouteKey=matchedRouteKey,exports.onBeforeRouteLeave=onBeforeRouteLeave,exports.onBeforeRouteUpdate=onBeforeRouteUpdate,exports.parseQuery=parseQuery,exports.routeLocationKey=routeLocationKey,exports.routerKey=routerKey,exports.routerViewLocationKey=routerViewLocationKey,exports.stringifyQuery=stringifyQuery,exports.useLink=useLink,exports.useRoute=useRoute,exports.useRouter=useRouter,exports.viewDepthKey=viewDepthKey;